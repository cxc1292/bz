<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script language = "JavaScript1.2">

        function setDedaults() {
            var date = new Date();
            document.getElementById("title").innerHTML = "Dough Calculator (" + date.getDate() + "/" + date.getMonth() + "/" + date.getFullYear() + ")";

            document.getElementById("a1").value = "35";
            document.getElementById("b1").value = "96";
            document.getElementById("d1").innerHTML = "1.6";
            document.getElementById("e1").innerHTML = "1060";

            document.getElementById("a2").value = "70";
            document.getElementById("b2").value = "60";
            document.getElementById("d2").innerHTML = "3.2";
            document.getElementById("e2").innerHTML = "2150";

            document.getElementById("a3").value = "85";
            document.getElementById("b3").value = "60";
            document.getElementById("d3").innerHTML = "4.1";
            document.getElementById("e3").innerHTML = "2600";

            document.getElementById("a4").value = "100";
            document.getElementById("b4").value = "60";
            document.getElementById("d4").innerHTML = "";
            document.getElementById("e4").innerHTML = "3050";

            document.getElementById("a5").value = "400";
            document.getElementById("b5").value = "1";
            document.getElementById("a6").value = "450";
            document.getElementById("b6").value = "1";
            document.getElementById("a7").value = "480";
            document.getElementById("b7").value = "1";
        }
        function cal() {
            //var w1 = document.getElementById("a1").value * document.getElementById("b1").value * document.getElementById("c1").value;
            //document.getElementById("w1").innerHTML = w1 / 1000;

            var total = 0;

            for (i = 1; i <= 15; i++) {
                var a = "a" + i;
                var b = "b" + i;
                var c = "c" + i;
                var w = "w" + i;
                var weight = document.getElementById(a).value * document.getElementById(b).value * document.getElementById(c).value;
                document.getElementById(w).innerHTML = weight / 1000;
                total += weight;
                var el = document.getElementById("n" + i);
                if (el != null) {
                    el.innerHTML = document.getElementById(b).value * document.getElementById(c).value / 30;
                }
            }
            document.getElementById("totalweight").innerHTML = total/1000;
        }
    </script>
    <style>
        body{font-size:150%;}
        td{vertical-align:middle;}
        input {
            width: 100px;
            vertical-align:middle;
            height:25px;
            text-align:right;
            font-size:80%;
        }
    </style>
</head>
<body onload="setDedaults()">
    <h2 id="title">Dough calculator</h2>
    <table style="font-size:30pt; font-weight:bold;background-color:darkblue; color:white; margin-bottom:20px;">
        <tr>
            <td>总重(kg): </td>
            <td id="totalweight"></td>
        </tr>
    </table>
    <table border="1">
        <tr style="background-color:gainsboro">
            <td width="5">面团重(g)</td>
            <td>每箱件数</td>
            <td>箱数</td>
            <td style="font-weight:bold">重量(kg)</td>
            <td>刻度</td>
            <td>盘重(g)</td>
            <td>盘数</td>
        </tr>
        <tr>
            <td><input type="number" id="a1" onkeyup="cal()" /></td>
            <td><input type="number" id="b1" onkeyup="cal()" /></td>
            <td><input type="number" id="c1" onkeyup="cal()" /></td>
            <td id="w1"></td>
            <td id="d1"></td>
            <td id="e1"></td>
            <td id="n1"></td>
        </tr>
        <tr>
            <td><input type="number" id="a2" onkeyup="cal()" /></td>
            <td><input type="number" id="b2" onkeyup="cal()" /></td>
            <td><input type="number" id="c2" onkeyup="cal()" /></td>
            <td id="w2"></td>
            <td id="d2"></td>
            <td id="e2"></td>
            <td id="n2"></td>
        </tr>
        <tr>
            <td><input type="number" id="a3" onkeyup="cal()" /></td>
            <td><input type="number" id="b3" onkeyup="cal()" /></td>
            <td><input type="number" id="c3" onkeyup="cal()" /></td>
            <td id="w3"></td>
            <td id="d3"></td>
            <td id="e3"></td>
            <td id="n3"></td>
        </tr>
        <tr>
            <td><input type="number" id="a4" onkeyup="cal()" /></td>
            <td><input type="number" id="b4" onkeyup="cal()" /></td>
            <td><input type="number" id="c4" onkeyup="cal()" /></td>
            <td id="w4"></td>
            <td id="d4"></td>
            <td id="e4"></td>
            <td id="n4"></td>
        </tr>
        <tr>
            <td><input type="number" id="a5" onkeyup="cal()" /></td>
            <td><input type="number" id="b5" onkeyup="cal()" /></td>
            <td><input type="number" id="c5" onkeyup="cal()" /></td>
            <td id="w5"></td>
        </tr>
        <tr>
            <td><input type="number" id="a6" onkeyup="cal()" /></td>
            <td><input type="number" id="b6" onkeyup="cal()" /></td>
            <td><input type="number" id="c6" onkeyup="cal()" /></td>
            <td id="w6"></td>
        </tr>
        <tr>
            <td><input type="number" id="a7" onkeyup="cal()" /></td>
            <td><input type="number" id="b7" onkeyup="cal()" /></td>
            <td><input type="number" id="c7" onkeyup="cal()" /></td>
            <td id="w7"></td>
        </tr>
        <tr>
            <td><input type="number" id="a8" onkeyup="cal()" /></td>
            <td><input type="number" id="b8" onkeyup="cal()" /></td>
            <td><input type="number" id="c8" onkeyup="cal()" /></td>
            <td id="w8"></td>
        </tr>
        <tr>
            <td><input type="number" id="a9" onkeyup="cal()" /></td>
            <td><input type="number" id="b9" onkeyup="cal()" /></td>
            <td><input type="number" id="c9" onkeyup="cal()" /></td>
            <td id="w9"></td>
        </tr>
        <tr>
            <td><input type="number" id="a10" onkeyup="cal()" /></td>
            <td><input type="number" id="b10" onkeyup="cal()" /></td>
            <td><input type="number" id="c10" onkeyup="cal()" /></td>
            <td id="w10"></td>
        </tr>
        <tr>
            <td><input type="number" id="a11" onkeyup="cal()" /></td>
            <td><input type="number" id="b11" onkeyup="cal()" /></td>
            <td><input type="number" id="c11" onkeyup="cal()" /></td>
            <td id="w11"></td>
        </tr>
        <tr>
            <td><input type="number" id="a12" onkeyup="cal()" /></td>
            <td><input type="number" id="b12" onkeyup="cal()" /></td>
            <td><input type="number" id="c12" onkeyup="cal()" /></td>
            <td id="w12"></td>
        </tr>
        <tr>
            <td><input type="number" id="a13" onkeyup="cal()" /></td>
            <td><input type="number" id="b13" onkeyup="cal()" /></td>
            <td><input type="number" id="c13" onkeyup="cal()" /></td>
            <td id="w13"></td>
        </tr>
        <tr>
            <td><input type="number" id="a14" onkeyup="cal()" /></td>
            <td><input type="number" id="b14" onkeyup="cal()" /></td>
            <td><input type="number" id="c14" onkeyup="cal()" /></td>
            <td id="w14"></td>
        </tr>
        <tr>
            <td><input type="number" id="a15" onkeyup="cal()" /></td>
            <td><input type="number" id="b15" onkeyup="cal()" /></td>
            <td><input type="number" id="c15" onkeyup="cal()" /></td>
            <td id="w15"></td>
        </tr>
    </table>
</body>
</html>